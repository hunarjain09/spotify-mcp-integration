# Spotify API Credentials
# Get these from: https://developer.spotify.com/dashboard
# IMPORTANT: Spotify requires explicit loopback IP (127.0.0.1), NOT "localhost"
# See: https://developer.spotify.com/documentation/web-api/concepts/redirect-uris
SPOTIFY_CLIENT_ID=your_spotify_client_id_here
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here
SPOTIFY_REDIRECT_URI=http://127.0.0.1:8888/callback

# Default playlist for syncing (get ID from Spotify playlist URL)
DEFAULT_PLAYLIST_ID=your_playlist_id_here

# AI Provider Selection
# Choose between "langchain" (OpenAI) or "claude" (Anthropic)
AI_PROVIDER=langchain

# OpenAI API Key (required when AI_PROVIDER=langchain)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic API Key (required when AI_PROVIDER=claude)
# Get from: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================
# EXECUTION MODE CONFIGURATION
# ============================================
# USE_TEMPORAL: Controls whether to use Temporal for workflow orchestration
#
# When set to "true" (TEMPORAL MODE):
#   ✓ Requires Temporal server running (docker-compose up)
#   ✓ Provides durable execution (survives server restarts)
#   ✓ Advanced retry policies with exponential backoff
#   ✓ Distributed processing across multiple workers
#   ✓ Real-time progress tracking and workflow history
#   ✗ More complex infrastructure (Temporal + PostgreSQL)
#   ✗ Higher resource usage
#
# When set to "false" (STANDALONE MODE):
#   ✓ No Temporal infrastructure needed
#   ✓ Simple deployment: just FastAPI + Spotify
#   ✓ Lower resource usage
#   ✓ Faster startup and easier local development
#   ✗ No durable execution (in-progress workflows lost on restart)
#   ✗ Basic retry logic only (no distributed processing)
#   ✗ In-memory state storage only
#
# RECOMMENDED SETTINGS:
# - Development/Testing: USE_TEMPORAL=false (simpler, faster)
# - Production (low traffic): USE_TEMPORAL=false (if fire-and-forget is acceptable)
# - Production (high traffic/reliability): USE_TEMPORAL=true (for durability)
#
USE_TEMPORAL=true

# Temporal Configuration (only used when USE_TEMPORAL=true)
TEMPORAL_HOST=localhost:7233
TEMPORAL_NAMESPACE=default

# Temporal Cloud (Production) - uncomment if using Temporal Cloud
# TEMPORAL_HOST=your-namespace.tmprl.cloud:7233
# TEMPORAL_NAMESPACE=your-namespace.accounting
# TEMPORAL_TLS_CERT_PATH=certs/client.pem
# TEMPORAL_TLS_KEY_PATH=certs/client.key

# API Server Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Matching Configuration
FUZZY_MATCH_THRESHOLD=0.85
USE_AI_DISAMBIGUATION=true

# AI Model Configuration
AI_MODEL=gpt-4  # Used when AI_PROVIDER=langchain (options: gpt-4, gpt-3.5-turbo)
CLAUDE_MODEL=claude-3-5-sonnet-20241022  # Used when AI_PROVIDER=claude

# Worker Configuration
MAX_CONCURRENT_ACTIVITIES=100
MAX_CONCURRENT_WORKFLOWS=50
MAX_ACTIVITIES_PER_SECOND=10.0

# Logging
LOG_LEVEL=INFO
